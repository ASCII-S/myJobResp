---
created: '2025-10-19'
last_reviewed: '2025-10-19'
next_review: '2025-10-19'
review_count: 0
difficulty: medium
mastery_level: 0.0
tags:
- C++
- C++/静态局部变量，全局变量，局部变量.md
related_outlines: []
---

# 静态局部变量，全局变量，局部变量

**1. 局部变量（普通自动变量）**

* 定义：函数体或代码块内定义的变量，默认是自动存储周期（auto）。
* 存储位置：通常在 **栈** 上分配。
* 生命周期：进入作用域时创建，离开作用域时销毁。
* 特点：速度快，但超出作用域后内存就无效。

---

**2. 全局变量**

* 定义：在所有函数之外定义的变量。
* 存储位置：存放在 **静态存储区**（程序的 data 段或 bss 段）。

  * 已初始化的全局变量放在 data 段。
  * 未初始化的全局变量放在 bss 段。
* 生命周期：从程序开始运行到程序结束。
* 作用域：默认是整个文件；如果加 `extern`，可以跨文件访问。
* 问题：容易导致模块间耦合度高，调试困难。

---

**3. 静态局部变量**

* 定义：在函数或代码块里用 `static` 修饰的局部变量。
* 存储位置：和全局变量一样，也放在 **静态存储区**。
* 生命周期：整个程序运行期间都存在。
* 作用域：只在定义它的函数/块作用域内可见。
* 特殊点：

  * **只在第一次执行到定义处时初始化一次**，后续不会再重新初始化。
  * 脱离作用域后，变量不会销毁，而是保持上次的值，等下次进入函数时还能接着用。

---

**4. 面试时的简洁总结**
“局部变量存放在栈上，生命周期是作用域范围内；全局变量和静态局部变量存放在静态存储区，生命周期是整个程序。区别在于作用域：全局变量在全文件（甚至多文件）可见，静态局部变量只在函数内可见，但值能跨调用保存。”

---

---

## 相关笔记
<!-- 自动生成 -->

- [static关键字](notes/C++/static关键字.md) - 相似度: 36% | 标签: C++, C++/static关键字.md

